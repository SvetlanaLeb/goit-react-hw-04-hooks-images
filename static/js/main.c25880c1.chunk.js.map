{"version":3,"sources":["components/Button/Button.module.css","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","services/imageAPI.js","components/Button/Button.jsx","components/Modal/Modal.jsx","App.js","index.js"],"names":["module","exports","Searchbar","onSubmit","useState","query","setQuery","className","e","preventDefault","trim","toast","warn","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","src","alt","ImageGallery","data","onImageClick","map","id","imageApi","newName","pageNumber","fetch","then","response","ok","json","Promise","reject","Error","Button","onLoadClick","s","btnLoadMore","modalRoot","document","querySelector","Modal","onClose","children","useEffect","handleKeydown","code","window","addEventListener","removeEventListener","createPortal","target","App","requestName","setRequestName","setData","currentPage","setCurrentPage","loading","setLoading","error","setError","showModal","setShowModal","modalImage","setModalImage","result","prevState","hits","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","message","length","state","color","height","width","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c25880c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnLoadMore\":\"Button_btnLoadMore__2Q04h\"};","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Searchbar.css';\n\nfunction Searchbar({ onSubmit }) {\n    const [query, setQuery] = useState('');\n\n    const handleNameChange = e => {\n        setQuery(e.currentTarget.value.toLowerCase());\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (query.trim() === '') {\n            toast.warn('Enter your request');\n            return;\n        }\n        onSubmit(query);\n        setQuery('');\n    };\n\n    return (\n        <header className=\"Searchbar\">\n            <form className=\"SearchForm\" onSubmit={handleSubmit}>\n                <button type=\"submit\" className=\"SearchForm-button\">\n                    <span className=\"SearchForm-button-label\">Search</span>\n                </button>\n\n                <input\n                    className=\"SearchForm-input\"\n                    type=\"text\"\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                    value={query}\n                    onChange={handleNameChange}\n                />\n            </form>\n        </header>\n    );\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n};\n\nexport default Searchbar;\n","import PropTypes from 'prop-types';\nimport './ImageGalleryItem.css';\n\nconst ImageGalleryItem = ({ webformatURL, largeImageURL, tags, onClick }) => (\n    <li className=\"ImageGalleryItem\">\n        <img\n            src={webformatURL}\n            alt={tags}\n            className=\"ImageGalleryItem-image\"\n            onClick={() => onClick(largeImageURL)}\n        />\n    </li>\n);\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport './ImageGallery.css';\n\nconst ImageGallery = ({ data, onImageClick }) => (\n    <ul className=\"ImageGallery\">\n        {data &&\n            data.map(({ id, webformatURL, largeImageURL, tags }) => (\n                <ImageGalleryItem\n                    key={id}\n                    webformatURL={webformatURL}\n                    largeImageURL={largeImageURL}\n                    tags={tags}\n                    onClick={onImageClick}\n                />\n            ))}\n    </ul>\n);\n\nImageGallery.propTypes = {\n    data: PropTypes.oneOfType([\n        PropTypes.arrayOf(\n            PropTypes.shape({\n                id: PropTypes.string.isRequired,\n                webformatURL: PropTypes.string.isRequired,\n                largeImageURL: PropTypes.string.isRequired,\n                tags: PropTypes.string.isRequired,\n            }),\n        ),\n        PropTypes.array,\n    ]),\n    onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","const imageApi = (newName, pageNumber) => {\n    const KEY = '22384127-56cbd68b25450c364ed3164a8';\n\n    return fetch(\n        `https://pixabay.com/api/?q=${newName}&page=${pageNumber}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n    ).then(response => {\n        if (response.ok) {\n            return response.json();\n        }\n        return Promise.reject(\n            new Error(`No results were found for ${newName} `),\n        );\n    });\n};\n\nexport default imageApi;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onLoadClick }) => {\n    return (\n        <button className={s.btnLoadMore} type=\"button\" onClick={onLoadClick}>\n            Load more\n        </button>\n    );\n};\n\nButton.propTypes = {\n    onLoadClick: PropTypes.func,\n};\n\nexport default Button;\n","import { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ onClose, children }) {\n    useEffect(() => {\n        const handleKeydown = e => {\n            if (e.code === 'Escape') {\n                onClose();\n            }\n        };\n        window.addEventListener('keydown', e => {\n            handleKeydown(e);\n        });\n        return () => {\n            window.removeEventListener('keydown', e => {\n                handleKeydown(e);\n            });\n        };\n    }, [onClose]);\n\n    const handleBackDropClick = e => {\n        if (e.currentTarget === e.target) {\n            onClose();\n        }\n    };\n\n    return createPortal(\n        <div className=\"Overlay\" onClick={handleBackDropClick}>\n            <div className=\"Modal\">{children}</div>\n        </div>,\n        modalRoot,\n    );\n}\n\nModal.propTypes = {\n    children: PropTypes.node,\n    onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import React, { useState, useEffect } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\nimport imageApi from './services/imageAPI';\nimport Button from './components/Button/Button';\nimport Modal from './components/Modal/Modal';\n\nfunction App() {\n    const [requestName, setRequestName] = useState('');\n    const [data, setData] = useState(null);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [showModal, setShowModal] = useState(false);\n    const [modalImage, setModalImage] = useState('');\n\n    useEffect(() => {\n        if (requestName === '') return;\n        setLoading(true);\n        imageApi(requestName, currentPage)\n            .then(result => {\n                setData(prevState => [...prevState, ...result.hits]);\n            })\n            .catch(error => setError(error))\n            .finally(() => setLoading(false));\n        window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n        });\n    }, [currentPage, requestName]);\n\n    const handleFormSubmit = requestName => {\n        setRequestName(requestName);\n        setData([]);\n        setCurrentPage(1);\n    };\n\n    const handleModalOpen = largeImageURL => {\n        setShowModal(true);\n        setModalImage(largeImageURL);\n    };\n\n    const handleModalClose = () => {\n        setShowModal(false);\n        setModalImage('');\n    };\n    const onLoadBtnClick = () => {\n        setCurrentPage(state => state + 1);\n    };\n\n    return (\n        <div className=\"App\">\n            <Searchbar onSubmit={handleFormSubmit} />\n            {error && <h2>{error.message}</h2>}\n            {data && data.length === 0 && loading === false && (\n                <h2>No results were found for your search</h2>\n            )}\n            {data && (\n                <ImageGallery data={data} onImageClick={handleModalOpen} />\n            )}\n            {data && data.length !== 0 && (\n                <Button onLoadClick={onLoadBtnClick} />\n            )}\n            {loading && (\n                <Loader\n                    type=\"ThreeDots\"\n                    color=\"blueviolet\"\n                    height={80}\n                    width={80}\n                    className=\"Loader\"\n                />\n            )}\n            {showModal && (\n                <Modal modalImage={modalImage} onClose={handleModalClose}>\n                    <img src={modalImage} alt=\"\" />\n                </Modal>\n            )}\n            <ToastContainer\n                position=\"top-right\"\n                autoClose={5000}\n                hideProgressBar={false}\n                newestOnTop={false}\n                closeOnClick\n                rtl={false}\n                pauseOnFocusLoss\n                draggable\n                pauseOnHover\n            />\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}